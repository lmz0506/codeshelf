<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>CodeShelf Â· ä»£ç ä¹¦æ¶</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
/* ====== b è‰²ç³» ====== */
:root{
  --bg:#f5f7fa;
  --card:#ffffff;
  --primary:#0066ff;
  --primary-light:#e5f0ff;
  --text:#2c3e50;
  --text-light:#7f8c8d;
  --border:#e0e6ed;
  --star:#ffb400;
  --shadow:0 4px 16px rgba(0,0,0,.06);
  --radius:12px;
  --transition:.25s ease;
  --nav-width:180px;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--bg);color:var(--text);font-family:"PingFang SC","Helvetica Neue",Arial,sans-serif;display:flex;min-height:100vh;}
a{color:inherit;text-decoration:none;}
/* ====== å·¦ä¾§æŠ½å±‰ ====== */
nav{
  width:var(--nav-width);
  background:var(--card);
  border-right:1px solid var(--border);
  display:flex;
  flex-direction:column;
  padding:20px 0;
  box-shadow:var(--shadow);
  transition:var(--transition);
  flex-shrink:0;
}
nav.collapsed{margin-left:calc(-1 * var(--nav-width));}
nav .logo{font-size:22px;font-weight:600;letter-spacing:1px;text-align:center;margin-bottom:20px;}
nav .menu{flex:1;display:flex;flex-direction:column;gap:8px;padding:0 16px;}
nav .menu a{padding:10px 14px;border-radius:var(--radius);font-size:15px;display:flex;align-items:center;gap:8px;transition:var(--transition);}
nav .menu a:hover,nav .menu a.active{background:var(--primary-light);color:var(--primary);}
/* ====== ä¸»åŒºåŸŸ ====== */
.main-wrap{flex:1;display:flex;flex-direction:column;transition:var(--transition);}
header{display:flex;align-items:center;gap:12px;padding:14px 20px;box-shadow:var(--shadow);background:var(--card);}
header .toggle{font-size:24px;cursor:pointer;}
header .search-center{flex:1;display:flex;justify-content:center;align-items:center;gap:12px;}
header .search-box{position:relative;width:100%;max-width:420px;}
header .search-box input{width:100%;padding:8px 36px 8px 14px;border:1px solid var(--border);border-radius:24px;outline:none;transition:var(--transition);}
header .search-box input:focus{border-color:var(--primary);box-shadow:0 0 0 3px var(--primary-light);}
header .search-box button{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:var(--primary);color:#fff;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;}
header .filter-chk{margin-left:12px;font-size:14px;display:flex;gap:12px;}
header .actions{margin-left:auto;display:flex;gap:8px;}
.btn{padding:8px 16px;border-radius:24px;border:1px solid var(--border);background:var(--card);cursor:pointer;transition:var(--transition);font-size:14px;}
.btn:hover{border-color:var(--primary);color:var(--primary);}
.btn-primary{background:var(--primary);color:#fff;border:none;}
.btn-primary:hover{background:#0051d5;color:#fff;}
/* ====== åˆ†ç±»æ¡ ====== */
.cat-bar{display:flex;align-items:center;gap:12px;padding:12px 20px;background:var(--card);box-shadow:var(--shadow);margin:0 20px;border-radius:var(--radius);}
.cat-bar .cat-list{display:flex;gap:8px;flex-wrap:wrap;}
.cat-bar .cat{cursor:pointer;padding:4px 10px;border-radius:12px;background:var(--primary-light);color:var(--primary);font-size:13px;transition:var(--transition);}
.cat-bar .cat.active,.cat-bar .cat:hover{background:var(--primary);color:#fff;}
/* ====== ä¹¦æ¶ç½‘æ ¼ ====== */
.shelf{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px;padding:20px;}
.project-card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;display:flex;flex-direction:column;transition:var(--transition);}
.project-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(0,0,0,.08);}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
.card-header h4{font-size:17px;font-weight:600;}
.star{font-size:20px;color:var(--star);cursor:pointer;transition:var(--transition);}
.star:hover{transform:scale(1.2);}
.card-meta{font-size:13px;color:var(--text-light);margin-bottom:6px;}
.card-cat{font-size:12px;margin-bottom:8px;}
.card-path{font-size:13px;color:var(--text-light);background:#f8f9fb;padding:6px 10px;border-radius:6px;margin-bottom:14px;word-break:break-all;}
.card-footer{margin-top:auto;display:flex;align-items:center;justify-content:space-between;}
.status{font-size:12px;padding:4px 10px;border-radius:12px;background:var(--primary-light);color:var(--primary);}
.card-actions{display:flex;gap:8px;}
.icon-btn{width:32px;height:32px;border-radius:6px;border:1px solid var(--border);background:var(--card);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:var(--transition);}
.icon-btn:hover{border-color:var(--primary);color:var(--primary);}
/* ====== å“åº”å¼ ====== */
@media(max-width:768px){
  .shelf{grid-template-columns:1fr}
}
</style>
<base target="_blank">
<base target="_blank">
</head>
<body>
<nav id="nav">
  <div class="logo">ğŸ“š CodeShelf</div>
  <div class="menu">
    <a href="#" class="active">ğŸ“– ä¹¦æ¶</a>
    <a href="#">ğŸ“Š ç»Ÿè®¡</a>
    <a href="#">âš™ï¸ è®¾ç½®</a>
  </div>
</nav>

<div class="main-wrap">
  <header>
    <span class="toggle" id="toggleNav">â˜°</span>
    <div class="search-center">
      <div class="search-box">
        <input id="searchInput" placeholder="æœç´¢é¡¹ç›®â€¦">
        <button>ğŸ”</button>
      </div>
      <div class="filter-chk">
        <label><input type="checkbox" id="chkStar"> åªçœ‹æ”¶è—</label>
        <label><input type="checkbox" id="chkModified"> åªçœ‹å¾…æäº¤</label>
      </div>
    </div>
    <div class="actions">
      <button class="btn" id="addCateBtn">+ åˆ†ç±»</button>
      <button class="btn btn-primary" id="addProjBtn">+ é¡¹ç›®</button>
    </div>
  </header>

  <div class="cat-bar">
    <span style="font-size:14px;color:var(--text-light)">åˆ†ç±»ï¼š</span>
    <div class="cat-list" id="catList"></div>
  </div>

  <section class="shelf" id="shelf"></section>
</div>

<script>
/* ====== åˆå§‹æ•°æ® ====== */
let projects = [
  {name:'activity-api',repo:'@Gitee',branch:'master',path:'C:\\work\\é¡¹ç›®\\å¾®ä¿¡æ´»åŠ¨å°ç¨‹åº\\activity-api',modified:true,starred:false,category:'å°ç¨‹åº'},
  {name:'aes',repo:'@Gitee',branch:'master',path:'C:\\work\\é¡¹ç›®\\æµ‹è¯•aes',modified:true,starred:true,category:'å·¥å…·'},
  {name:'alldata',repo:'â˜†GitHub',branch:'master',path:'C:\\work\\é¡¹ç›®\\æ•°æ®å¹³å°\\alldata',modified:true,starred:false,category:'å¹³å°'},
  {name:'applet-chatgpt',repo:'@Gitee',branch:'dev',path:'C:\\work\\é¡¹ç›®\\chatGPT\\applet-chatgpt',modified:true,starred:false,category:'å°ç¨‹åº'},
  {name:'bjsrp',repo:'@Gitee',branch:'master',path:'C:\\work\\é¡¹ç›®\\bjsrp',modified:true,starred:true,category:'å¹³å°'},
  {name:'btrace',repo:'â˜†GitHub',branch:'develop',path:'C:\\work\\é¡¹ç›®\\btrace',modified:true,starred:false,category:'å·¥å…·'},
  {name:'calcite',repo:'â˜†GitHub',branch:'main',path:'C:\\work\\é¡¹ç›®\\å¼€æºçš„å·¥å…·åŒ…é›†åˆ\\calcite',modified:true,starred:true,category:'å·¥å…·'},
  {name:'Chat2DB',repo:'â˜†GitHub',branch:'main',path:'C:\\work\\é¡¹ç›®\\dbç®¡ç†å·¥å…·\\Chat2DB',modified:true,starred:false,category:'å·¥å…·'}
];
let categories = ['å°ç¨‹åº','å¹³å°','å·¥å…·','å…¶ä»–'];
let activeCat = 'å…¨éƒ¨';

/* ====== æŒä¹…åŒ– ====== */
function load(){
  const c = localStorage.getItem('cs_categories');
  const p = localStorage.getItem('cs_projects');
  if(c) categories=JSON.parse(c);
  if(p) projects=JSON.parse(p);
}
function save(){
  localStorage.setItem('cs_categories',JSON.stringify(categories));
  localStorage.setItem('cs_projects',JSON.stringify(projects));
}
load();

/* ====== DOM ====== */
const $=s=>document.querySelector(s);
const shelf=$('#shelf'),catList=$('#catList'),searchInput=$('#searchInput');
const chkStar=$('#chkStar'),chkModified=$('#chkModified');
const toggleNav=$('#toggleNav'),nav=$('#nav');

/* ====== æ¸²æŸ“åˆ†ç±»æ¡ ====== */
function renderCats(){
  catList.innerHTML='';
  ['å…¨éƒ¨',...categories].forEach(c=>{
    const span=document.createElement('span');
    span.className='cat'+(c===activeCat?' active':'');
    span.textContent=c;
    span.onclick=()=>{activeCat=c;render();};
    catList.appendChild(span);
  });
}
/* ====== æ¸²æŸ“ä¹¦æ¶ ====== */
function render(){
  const kw=searchInput.value.trim().toLowerCase();
  const onlyStar=chkStar.checked,onlyMod=chkModified.checked;
  const list=projects.filter(p=>{
    if(activeCat!=='å…¨éƒ¨'&&p.category!==activeCat) return false;
    if(onlyStar&&!p.starred) return false;
    if(onlyMod&&!p.modified) return false;
    if(kw&&!p.name.toLowerCase().includes(kw)) return false;
    return true;
  });
  shelf.innerHTML='';
  list.forEach(p=>{
    const card=document.createElement('div');
    card.className='project-card';
    card.innerHTML=`
      <div class="card-header">
        <h4>${p.name}</h4>
        <span class="star" title="${p.starred?'å–æ¶ˆæ”¶è—':'æ”¶è—'}">${p.starred?'â˜…':'â˜†'}</span>
      </div>
      <div class="card-meta">${p.repo} Â· ${p.branch}</div>
      <div class="card-cat">åˆ†ç±»ï¼š${p.category}</div>
      <div class="card-path">${p.path}</div>
      <div class="card-footer">
        <span class="status">${p.modified?'æœ‰ä¿®æ”¹':'æ— ä¿®æ”¹'}</span>
        <div class="card-actions">
          <button class="icon-btn" title="ç¼–è¾‘å™¨">ğŸ“</button>
          <button class="icon-btn" title="ç»ˆç«¯">ğŸ’»</button>
        </div>
      </div>`;
    const starBtn=card.querySelector('.star');
    starBtn.onclick=()=>{p.starred=!p.starred;save();render();};
    shelf.appendChild(card);
  });
}
/* ====== äº‹ä»¶ç»‘å®š ====== */
searchInput.oninput=render;
chkStar.onchange=render;
chkModified.onchange=render;
toggleNav.onclick=()=>nav.classList.toggle('collapsed');

/* ====== åŠ¨æ€å¢/æ”¹åˆ†ç±» ====== */
$('#addCateBtn').onclick=()=>{
  const name=prompt('æ–°åˆ†ç±»åç§°ï¼š')?.trim();
  if(name&&!categories.includes(name)){categories.push(name);save();renderCats();render();}
};
/* ====== åˆå§‹æ¸²æŸ“ ====== */
renderCats();render();
</script>
</body>
</html>